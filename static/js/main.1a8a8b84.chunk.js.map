{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","item","id","payload","tempCart","map","amount","selec","reduce","cartTotal","cartItem","price","itemTotal","total","parseFloat","toFixed","loading","AppContext","React","createContext","initialState","title","img","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","useEffect","Provider","value","clearCart","remove","increase","decrease","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1a8a8b84.chunk.js","sourcesContent":["\n\n\nconst reducer = (state, action) => {\n    if (action.type === 'CLEAR_CONTAINER') {\n        return { ...state, cart: [] }\n    }\n\n    if (action.type === 'REMOVE') {\n        return { ...state, cart: state.cart.filter((item) => item.id !== action.payload) }\n    }\n\n    if (action.type === 'INCREASE') {\n        let tempCart = state.cart.map((item) => {\n            if (item.id === action.payload) {\n                return { ...item, amount: item.amount + 1 }\n            }\n            return item;\n        });\n        return { ...state, cart: tempCart }\n    }\n\n\n    if (action.type === 'DECREASE') {\n        let tempCart = state.cart.map((item) => {\n            if (item.id === action.payload) {\n                return { ...item, amount: item.amount - 1 }\n            }\n\n            return item;\n        }).filter((selec)=>selec.amount !== 0);\n        return { ...state, cart: tempCart }\n    }\n\n\n    if(action.type === 'GET_TOTALS'){\n\nlet {total,amount} = state.cart.reduce((cartTotal,cartItem)=>{\n    const {price,amount} = cartItem;\n    const itemTotal = price * amount\n    cartTotal.amount += amount;\n    cartTotal.total += itemTotal\n    return cartTotal;\n},{\n    total:0,\n    amount:0\n})\n\ntotal = parseFloat(total.toFixed(2))\n\n        return {...state,total,amount}\n    }\n\n\n    if(action.type === 'LOADING'){\n        return {...state,loading:true}\n    }\n\n\n    if(action.type === 'DISPLAY'){\n        return {...state,loading:false,cart:action.payload}\n    }\n\n\n    return state\n}\n\nexport default reducer;","import React, { useState, useContext, useReducer, useEffect } from 'react'\nimport cartItems from './data'\nimport reducer from './reducer'\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = 'https://course-api.com/react-useReducer-cart-project'\nconst AppContext = React.createContext()\n\nconst initialState = {\n  loading:false,\n  cart:cartItems,\n  total:0,\n  amount:0\n\n}\n\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n\n\nconst clearCart = ()=>{\n  dispatch({type:'CLEAR_CONTAINER'})\n}\n\n\nconst remove = (id)=>{\n  dispatch({type:'REMOVE', payload:id})\n}\n\n\n\nconst increase = (id)=>{\n  dispatch({type:'INCREASE', payload:id})\n}\n\n\nconst decrease = (id)=>{\n  dispatch({type:'DECREASE', payload:id})\n}\n\n\nconst fetchData = async () =>{\n  dispatch({type:'LOADING'});\n  const response = await fetch(url);\n  const cart = await response.json();\n  dispatch({type:'DISPLAY',payload:cart});\n}\n\n\nuseEffect(()=>{\ndispatch({type:'GET_TOTALS'})\n},[state.cart])\n\n\nuseEffect(()=>{\nfetchData()\n},[])\n\n\n  return (\n    <AppContext.Provider\n      value={{\n       ...state,\n       clearCart,\n       remove,\n       increase,\n       decrease\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  )\n}\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext)\n}\n\nexport { AppContext, AppProvider }\n","export default [\n  {\n    id: 1,\n    title: 'Samsung Galaxy S7',\n    price: 599.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: 'google pixel ',\n    price: 499.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: 'Xiaomi Redmi Note 2',\n    price: 699.99,\n    img:\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\n    amount: 1,\n  },\n];\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst Navbar = () => {\n  const {amount} = useGlobalContext()\n  return (\n    <nav>\n      <div className='nav-center'>\n        <h3>useReducer</h3>\n        <div className='nav-container'>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z' />\n          </svg>\n          <div className='amount-container'>\n            <p className='total-amount'>{amount}</p>\n          </div>\n        </div>\n      </div>\n    </nav>\n  )\n}\n\nexport default Navbar\n","import React from 'react'\nimport { useGlobalContext } from './context'\nconst CartItem = ({ id, img, title, price, amount }) => {\nconst {remove,increase,decrease} = useGlobalContext()\n  return (\n    <article className='cart-item'>\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className='item-price'>${price}</h4>\n        {/* remove button */}\n        <button\n          className='remove-btn'\n          onClick={()=>remove(id)}\n        >\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button className='amount-btn' onClick={() => increase(id)}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z' />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className='amount'>{amount}</p>\n        {/* decrease amount */}\n        <button className='amount-btn' onClick={() => decrease(id)}>\n          <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'>\n            <path d='M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z' />\n          </svg>\n        </button>\n      </div>\n    </article>\n  )\n}\n\nexport default CartItem\n","import React from 'react'\nimport CartItem from './CartItem'\nimport { useGlobalContext } from './context'\n\nconst CartContainer = () => {\n  const { cart,total, clearCart } = useGlobalContext()\n  if (cart.length === 0) {\n    return (\n      <section className='cart'>\n        {/* cart header */}\n        <header>\n          <h2>your bag</h2>\n          <h4 className='empty-cart'>is currently empty</h4>\n        </header>\n      </section>\n    )\n  }\n  return (\n    <section className='cart'>\n      {/* cart header */}\n      <header>\n        <h2>your bag</h2>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className='cart-total'>\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button\n          className='btn clear-btn'\n          onClick={clearCart}\n        >\n          clear cart\n        </button>\n      </footer>\n    </section>\n  )\n}\n\nexport default CartContainer\n","import React from 'react'\nimport { useGlobalContext } from './context'\n\n// components\nimport Navbar from './Navbar'\nimport CartContainer from './CartContainer'\n// items\n\nfunction App() {\n  const {loading} = useGlobalContext()\n  if (loading) {\n    return (\n      <div className='loading'>\n        <h1>Loading...</h1>\n      </div>\n    )\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}